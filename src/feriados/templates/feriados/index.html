{% extends 'feriados/base.html' %}

{% load static gtsettings %}

{% block title %} {% endblock %}


{% block pre_head %}

    {% define_true "use_datatables" %}

{% endblock %}

    {% block content %}

    <div class="container">

        <h1>Filters of the holidays</h1>

        {{ exist }}


        <table id="tableholidays" class="table table-striped table-bordered">

        </table>
    </div>
    {% endblock content %}

{% block js %}
{{block.super}}


<script>

    document.list_holidays = "{% url 'holidays:apiview_holidays' %}"

    createDataTable('#tableholidays', document.list_holidays, {
           columns: [
            { data: "date", name: "date", title: "Date", type: "string" , visible: true },
            { data: "dayOfWeek", name: "dayOfWeek", title: "Day of Week", type: "string" , visible: true },
            { data: "localName", name: "localName", title: "Holiday Name", type: "string" , visible: true },
            { data: "countryCode", name: "countryCode", title: "Country Code", type: "string" , visible: true },
           ],
           dom: "<'d-flex justify-content-between'<'m-2'l>" +
           "<'m-2'B><'m-2 d-flex justify-content-start'f>>" +
           "<'row'tr><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 m-auto'p>>",
           buttons: [],
            processing: true,
            serverSide: true,
            ajax: {
               url: document.list_holidays,
               type: 'GET',
               data: function(dataTableParams, settings) {
                   var data = formatDataTableParams(dataTableParams, settings);
                   return data;
               }
           },
           });

</script>

{% endblock %}